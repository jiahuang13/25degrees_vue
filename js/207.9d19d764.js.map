{"version":3,"file":"js/207.9d19d764.js","mappings":"sKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,SAAS,CAACA,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,iBAAiB,CAACG,MAAM,CAAC,QAAUL,EAAIM,KAAKC,MAAMC,GAAG,CAAC,KAAO,SAASC,GAAQ,OAAOT,EAAIU,QAAQC,MAAM,KAAKT,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,IAAML,EAAIM,KAAKM,IAAI,IAAM,UAAUV,EAAG,SAAS,CAACE,YAAY,QAAQC,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,KAAK,CAACE,YAAY,SAAS,CAACJ,EAAIa,GAAGb,EAAIc,GAAGd,EAAIM,KAAKC,SAASL,EAAG,IAAI,CAACE,YAAY,UAAUW,SAAS,CAAC,UAAYf,EAAIc,GAAGd,EAAIM,KAAKU,YAAYd,EAAG,IAAI,CAACE,YAAY,SAAS,CAACJ,EAAIa,GAAG,MAAMb,EAAIc,GAAGd,EAAIM,KAAKW,UAAUf,EAAG,MAAMA,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,QAAQa,MAAM,CAACC,MAAOnB,EAAIoB,MAAOC,SAAS,SAAUC,GAAMtB,EAAIoB,MAAME,CAAG,EAAEC,WAAW,WAAWrB,EAAG,MAAMA,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAU,KAAO,2BAA2BG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIwB,WAAW,IAAI,CAACxB,EAAIa,GAAG,WAAWX,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,mBAAmB,OAAS,OAAO,IAAI,MAAM,EACv9B,EACIoB,EAAkB,G,mBC8BtB,GACAlB,KAAA,cACAmB,IAAAA,GACA,OACApB,KAAA,GACAc,MAAA,IAEA,EACAO,SAAA,KACAC,EAAAA,EAAAA,IAAA,kBAEA,aAAAC,GACA,MAAAC,QAAAC,EAAAA,EAAAA,IAAA,KAAAC,OAAAC,OAAAC,IAEA,KAAA5B,KAAAwB,EACA,KAAAK,OAAAC,SAAA,kBACA,EACAC,QAAA,CACA,eAAAb,GAEA,MAAAc,EAAA,KAAAC,KAAAC,MAAAC,GAAAA,EAAAP,MAAA,KAAAF,OAAAC,OAAAC,KACA,GAAAI,QAEA,KAAAH,OAAAC,SAAA,uBAAAF,IAAA,KAAAF,OAAAC,OAAAC,GAAAd,MAAAkB,EAAAlB,MAAA,KAAAA,QACA,KAAAsB,SAAA,CACAC,QAAA,SACAC,KAAA,gBAEA,CACA,MAAAlB,EAAA,CACAQ,IAAA,KAAAF,OAAAC,OAAAC,GACAd,MAAA,KAAAA,MACAH,OAAA,KAAAX,KAAAW,MACAV,KAAA,KAAAD,KAAAC,KACAK,IAAA,KAAAN,KAAAM,KAGAkB,QAAAe,EAAAA,EAAAA,IAAAnB,GACAoB,QAAAC,IAAAjB,GAEAgB,QAAAC,IAAA,MACA,KAAAL,SAAA,CACAC,QAAA,SACAC,KAAA,WAEA,CACA,IC9E+P,I,UCQ3PI,GAAY,OACd,EACAjD,EACA0B,GACA,EACA,KACA,KACA,MAIF,EAAeuB,EAAiB,O","sources":["webpack://vue-25degrees/./src/views/shop/product.vue","webpack://vue-25degrees/src/views/shop/product.vue","webpack://vue-25degrees/./src/views/shop/product.vue?6b6f","webpack://vue-25degrees/./src/views/shop/product.vue?ccd4"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-row',[_c('div',{staticClass:\"box\"},[_c('el-page-header',{attrs:{\"content\":_vm.info.name},on:{\"back\":function($event){return _vm.$router.back()}}}),_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticClass:\"pic\"},[_c('img',{attrs:{\"src\":_vm.info.url,\"alt\":\"\"}})])]),_c('el-col',{staticClass:\"right\",attrs:{\"span\":12}},[_c('h1',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.info.name))]),_c('p',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.info.content)}}),_c('p',{staticClass:\"price\"},[_vm._v(\"NT$\"+_vm._s(_vm.info.price))]),_c('br'),_c('el-input-number',{attrs:{\"size\":\"mini\"},model:{value:(_vm.count),callback:function ($$v) {_vm.count=$$v},expression:\"count\"}}),_c('br'),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-shopping-cart-2\"},on:{\"click\":function($event){return _vm.addToCart()}}},[_vm._v(\"加入購物車\")]),_c('el-button',{attrs:{\"icon\":\"el-icon-star-off\",\"circle\":\"\"}})],1)],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-row>\n      <div class=\"box\">\n        <el-page-header @back=\"$router.back()\" :content=\"info.name\">\n        </el-page-header>\n      <el-col :span=\"12\">\n        <div class=\"pic\">\n        <img :src=\"info.url\" alt=\"\">\n      </div>\n      </el-col>\n      <el-col :span=\"12\" class=\"right\">\n        <h1 class=\"title\">{{ info.name }}</h1>\n        <p class=\"content\" v-html=\"info.content\"></p>\n        <p class=\"price\">NT${{ info.price }}</p>\n        <br>\n        <el-input-number size=\"mini\" v-model=\"count\"></el-input-number>\n        <br>\n        <el-button type=\"primary\" icon=\"el-icon-shopping-cart-2\" @click=\"addToCart()\"\n        >加入購物車</el-button\n      >\n      <el-button icon=\"el-icon-star-off\" circle></el-button>\n      </el-col>\n    </div>\n    </el-row>\n\n  </div>\n</template>\n\n<script>\nimport { getDetailAPI, addToCartAPI } from '@/api/product'\nimport { mapState } from 'vuex'\nexport default {\n  name: 'ProductPage',\n  data () {\n    return {\n      info: {},\n      count: '1'\n    }\n  },\n  computed: {\n    ...mapState('cart', ['list'])\n  },\n  async created () {\n    const res = await getDetailAPI(this.$route.params.id)\n    // console.log(res)\n    this.info = res\n    this.$store.dispatch('cart/getListAPI')\n  },\n  methods: {\n    async addToCart () {\n      // 要確認此商品是否已有在購物車裡，若有則修改數量，沒有則新增！！！！！\n      const existItem = this.list.find(ele => ele.id === +this.$route.params.id)\n      if (existItem) {\n        // console.log('此商品已存在')\n        await this.$store.dispatch('cart/updateCountAPI', { id: +this.$route.params.id, count: existItem.count + this.count })\n        this.$message({\n          message: '已加入購物車',\n          type: 'success'\n        })\n      } else {\n        const data = {\n          id: +this.$route.params.id,\n          count: this.count,\n          price: +this.info.price,\n          name: this.info.name,\n          url: this.info.url\n        }\n        // 新增到cart list\n        const res = await addToCartAPI(data)\n        console.log(res)\n        // 顯示新增成功輕提示\n        console.log('成功')\n        this.$message({\n          message: '已加入購物車',\n          type: 'success'\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style>\n.el-page-header {\n  color: #d8d7d7;\n  padding: 50px 0;\n  .el-page-header__content {\n    color: #d8d7d7;\n}\n}\n.box {\n  /* border: 1px solid rgb(136, 136, 136); */\n  width: 80%;\n  margin: 0 auto;\n  .pic {\n    width: 35vw;\n    height: 40vw;\n    img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n  }\n  .right {\ncolor: #d8d7d7;\n.title {\n  letter-spacing: 2px;\n}\n.content {\n  letter-spacing: 1px;\n  font-weight: lighter;\n  line-height: 25px;\n}\n.price {\n  font-size: 25px;\n  letter-spacing: 1px;\n  padding: 50px 0 10px 0;\n}\n.el-button {\n  margin-top: 20px;\n}\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./product.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./product.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./product.vue?vue&type=template&id=fc30f21a\"\nimport script from \"./product.vue?vue&type=script&lang=js\"\nexport * from \"./product.vue?vue&type=script&lang=js\"\nimport style0 from \"./product.vue?vue&type=style&index=0&id=fc30f21a&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","info","name","on","$event","$router","back","url","_v","_s","domProps","content","price","model","value","count","callback","$$v","expression","addToCart","staticRenderFns","data","computed","mapState","created","res","getDetailAPI","$route","params","id","$store","dispatch","methods","existItem","list","find","ele","$message","message","type","addToCartAPI","console","log","component"],"sourceRoot":""}