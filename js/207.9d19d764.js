"use strict";(self["webpackChunkvue_25degrees"]=self["webpackChunkvue_25degrees"]||[]).push([[207],{8207:function(t,s,e){e.r(s),e.d(s,{default:function(){return p}});var i=function(){var t=this,s=t._self._c;return s("div",[s("el-row",[s("div",{staticClass:"box"},[s("el-page-header",{attrs:{content:t.info.name},on:{back:function(s){return t.$router.back()}}}),s("el-col",{attrs:{span:12}},[s("div",{staticClass:"pic"},[s("img",{attrs:{src:t.info.url,alt:""}})])]),s("el-col",{staticClass:"right",attrs:{span:12}},[s("h1",{staticClass:"title"},[t._v(t._s(t.info.name))]),s("p",{staticClass:"content",domProps:{innerHTML:t._s(t.info.content)}}),s("p",{staticClass:"price"},[t._v("NT$"+t._s(t.info.price))]),s("br"),s("el-input-number",{attrs:{size:"mini"},model:{value:t.count,callback:function(s){t.count=s},expression:"count"}}),s("br"),s("el-button",{attrs:{type:"primary",icon:"el-icon-shopping-cart-2"},on:{click:function(s){return t.addToCart()}}},[t._v("加入購物車")]),s("el-button",{attrs:{icon:"el-icon-star-off",circle:""}})],1)],1)])],1)},n=[],a=e(4543),o=e(408),c={name:"ProductPage",data(){return{info:{},count:"1"}},computed:{...(0,o.rn)("cart",["list"])},async created(){const t=await(0,a.X3)(this.$route.params.id);this.info=t,this.$store.dispatch("cart/getListAPI")},methods:{async addToCart(){const t=this.list.find((t=>t.id===+this.$route.params.id));if(t)await this.$store.dispatch("cart/updateCountAPI",{id:+this.$route.params.id,count:t.count+this.count}),this.$message({message:"已加入購物車",type:"success"});else{const t={id:+this.$route.params.id,count:this.count,price:+this.info.price,name:this.info.name,url:this.info.url},s=await(0,a.O2)(t);console.log(s),console.log("成功"),this.$message({message:"已加入購物車",type:"success"})}}}},r=c,u=e(1001),l=(0,u.Z)(r,i,n,!1,null,null,null),p=l.exports}}]);
//# sourceMappingURL=207.9d19d764.js.map