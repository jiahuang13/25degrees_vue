{"version":3,"file":"js/408.eed7d748.js","mappings":"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","sources":["webpack://vue-25degrees/./src/views-admin/article.vue","webpack://vue-25degrees/src/views-admin/article.vue","webpack://vue-25degrees/./src/views-admin/article.vue?a6b5","webpack://vue-25degrees/./src/views-admin/article.vue?f31a"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"article\"},[_c('div',{staticClass:\"header\"},[_c('h1',[_vm._v(\"專欄文章管理\")]),_c('el-button',{attrs:{\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.addDialogVisible = true}}},[_vm._v(\"新增文章\")])],1),_c('el-scrollbar',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.articleList,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"id\",\"width\":\"130\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"標題\",\"width\":\"150\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"thumb\",\"label\":\"縮圖\",\"width\":\"120\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{attrs:{\"src\":scope.row.url,\"alt\":\"\",\"width\":\"100px\",\"height\":\"100px\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"內容\",\"width\":\"500\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"overflow-hidden\",domProps:{\"innerHTML\":_vm._s(scope.row.content)}})]}}])}),_c('el-table-column',{staticClass:\"btns\",attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleCheck(scope.row.id)}}},[_vm._v(\"查看\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row.id)}}},[_vm._v(\"編輯\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row.id)}}},[_vm._v(\"刪除\")])]}}])})],1),_c('el-dialog',{attrs:{\"title\":_vm.articleInfo.title,\"visible\":_vm.dialogVisible,\"width\":\"70%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"image\"},[_c('img',{attrs:{\"src\":_vm.articleInfo.url,\"alt\":\"\",\"width\":\"300px\",\"height\":\"auto\"}})])]),_c('el-col',{attrs:{\"span\":16}},[_c('h3',[_vm._v(\"內文\")]),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.articleInfo.content)}})]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"確 定\")])],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"編輯文章\",\"visible\":_vm.editDialogVisible,\"width\":\"70%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event}}},[_c('el-form',{ref:\"editForm\",attrs:{\"label-position\":\"right\",\"label-width\":\"80px\",\"model\":_vm.editForm,\"rules\":_vm.rules,\"before-close\":_vm.handleClose}},[_c('el-form-item',{attrs:{\"label\":\"標題\",\"prop\":\"title\"}},[_c('el-input',{model:{value:(_vm.editForm.title),callback:function ($$v) {_vm.$set(_vm.editForm, \"title\", $$v)},expression:\"editForm.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"內容\",\"prop\":\"content\"}},[_c('quill-editor',{model:{value:(_vm.editForm.content),callback:function ($$v) {_vm.$set(_vm.editForm, \"content\", $$v)},expression:\"editForm.content\"}})],1),_c('el-form-item',{attrs:{\"label\":\"圖片連結\",\"prop\":\"url\"}},[_c('el-input',{model:{value:(_vm.editForm.url),callback:function ($$v) {_vm.$set(_vm.editForm, \"url\", $$v)},expression:\"editForm.url\"}})],1),_c('el-form-item',{attrs:{\"label\":\"圖片預覽\",\"prop\":\"url\"}},[_c('div',{staticClass:\"image\"},[_c('img',{attrs:{\"src\":_vm.editForm.url,\"alt\":\"\",\"width\":\"300px\",\"height\":\"auto\"}})])])],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.updateArticle(_vm.editForm.id)}}},[_vm._v(\"確 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"新增文章\",\"visible\":_vm.addDialogVisible,\"width\":\"70%\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event}}},[_c('el-form',{ref:\"addForm\",attrs:{\"label-position\":\"right\",\"label-width\":\"80px\",\"model\":_vm.addForm,\"rules\":_vm.rules,\"before-close\":_vm.handleClose}},[_c('el-form-item',{attrs:{\"label\":\"標題\",\"prop\":\"title\"}},[_c('el-input',{model:{value:(_vm.addForm.title),callback:function ($$v) {_vm.$set(_vm.addForm, \"title\", $$v)},expression:\"addForm.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"內容\",\"prop\":\"content\"}},[_c('quill-editor',{model:{value:(_vm.addForm.content),callback:function ($$v) {_vm.$set(_vm.addForm, \"content\", $$v)},expression:\"addForm.content\"}})],1),_c('el-form-item',{attrs:{\"label\":\"圖片連結\",\"prop\":\"url\"}},[_c('el-input',{model:{value:(_vm.addForm.url),callback:function ($$v) {_vm.$set(_vm.addForm, \"url\", $$v)},expression:\"addForm.url\"}})],1),_c('el-form-item',{attrs:{\"label\":\"圖片預覽\",\"prop\":\"url\"}},[_c('div',{staticClass:\"image\"},[_c('img',{attrs:{\"src\":_vm.addForm.url,\"alt\":\"\",\"width\":\"100px\",\"height\":\"auto\"}})])])],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addNewArticle}},[_vm._v(\"確 定\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"article\">\n    <div class=\"header\">\n      <h1>專欄文章管理</h1>\n      <el-button icon=\"el-icon-plus\" @click=\"addDialogVisible = true\"\n        >新增文章</el-button\n      >\n    </div>\n\n    <el-scrollbar>\n      <!-- 表格 -->\n      <el-table :data=\"articleList\" border style=\"width: 100%\">\n        <el-table-column prop=\"id\" label=\"id\" width=\"130\" align=\"center\">\n        </el-table-column>\n        <el-table-column prop=\"title\" label=\"標題\" width=\"150\" align=\"center\">\n        </el-table-column>\n        <el-table-column prop=\"thumb\" label=\"縮圖\" width=\"120\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <img :src=\"scope.row.url\" alt=\"\" width=\"100px\" height=\"100px\" />\n          </template>\n        </el-table-column>\n        <el-table-column label=\"內容\" width=\"500\">\n          <template slot-scope=\"scope\">\n            <div class=\"overflow-hidden\" v-html=\"scope.row.content\"></div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" align=\"center\" class=\"btns\">\n          <template slot-scope=\"scope\">\n            <el-button\n              @click=\"handleCheck(scope.row.id)\"\n              type=\"text\"\n              size=\"small\"\n              >查看</el-button\n            >\n            <el-button\n              type=\"text\"\n              size=\"small\"\n              @click=\"handleEdit(scope.row.id)\"\n              >編輯</el-button\n            >\n            <el-button\n              type=\"text\"\n              size=\"small\"\n              @click=\"handleDelete(scope.row.id)\"\n              >刪除</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- 查看對話框 -->\n      <el-dialog\n        :title=\"articleInfo.title\"\n        :visible.sync=\"dialogVisible\"\n        width=\"70%\"\n      >\n        <el-row>\n          <el-col :span=\"8\">\n            <div class=\"image\">\n              <img :src=\"articleInfo.url\" alt=\"\" width=\"300px\" height=\"auto\" />\n            </div>\n          </el-col>\n          <el-col :span=\"16\">\n            <h3>內文</h3>\n            <div v-html=\"articleInfo.content\"></div>\n          </el-col>\n          <span slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"dialogVisible = false\">取 消</el-button>\n            <el-button type=\"primary\" @click=\"dialogVisible = false\"\n              >確 定</el-button\n            >\n          </span>\n        </el-row>\n      </el-dialog>\n\n      <!-- 編輯對話框 -->\n      <el-dialog title=\"編輯文章\" :visible.sync=\"editDialogVisible\" width=\"70%\">\n        <el-form\n          label-position=\"right\"\n          label-width=\"80px\"\n          ref=\"editForm\"\n          :model=\"editForm\"\n          :rules=\"rules\"\n          :before-close=\"handleClose\"\n        >\n          <el-form-item label=\"標題\" prop=\"title\">\n            <el-input v-model=\"editForm.title\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"內容\" prop=\"content\">\n            <quill-editor v-model=\"editForm.content\"></quill-editor>\n          </el-form-item>\n          <el-form-item label=\"圖片連結\" prop=\"url\">\n            <el-input v-model=\"editForm.url\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"圖片預覽\" prop=\"url\">\n            <div class=\"image\">\n              <img :src=\"editForm.url\" alt=\"\" width=\"300px\" height=\"auto\" />\n            </div>\n          </el-form-item>\n        </el-form>\n        <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"editDialogVisible = false\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"updateArticle(editForm.id)\"\n            >確 定</el-button\n          >\n        </span>\n      </el-dialog>\n\n      <!-- 新增文章對話框 -->\n      <el-dialog title=\"新增文章\" :visible.sync=\"addDialogVisible\" width=\"70%\">\n        <el-form\n          label-position=\"right\"\n          label-width=\"80px\"\n          ref=\"addForm\"\n          :model=\"addForm\"\n          :rules=\"rules\"\n          :before-close=\"handleClose\"\n        >\n          <el-form-item label=\"標題\" prop=\"title\">\n            <el-input v-model=\"addForm.title\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"內容\" prop=\"content\">\n            <quill-editor v-model=\"addForm.content\"></quill-editor>\n          </el-form-item>\n          <el-form-item label=\"圖片連結\" prop=\"url\">\n            <el-input v-model=\"addForm.url\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"圖片預覽\" prop=\"url\">\n            <div class=\"image\">\n              <img :src=\"addForm.url\" alt=\"\" width=\"100px\" height=\"auto\" />\n            </div>\n          </el-form-item>\n        </el-form>\n        <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"addDialogVisible = false\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"addNewArticle\">確 定</el-button>\n        </span>\n      </el-dialog>\n    </el-scrollbar>\n  </div>\n</template>\n\n<script>\nimport {\n  getAllArticlesAPI,\n  getDetailAPI,\n  addNewArticleAPI,\n  deleteUserAPI,\n  updateArticleAPI\n} from '@/api/articles'\n// 富文本編輯器\nimport 'quill/dist/quill.core.css'\nimport 'quill/dist/quill.snow.css'\nimport 'quill/dist/quill.bubble.css'\nimport { quillEditor } from 'vue-quill-editor'\n\nexport default {\n  name: 'articleAdmin',\n  data () {\n    return {\n      articleList: [],\n      dialogVisible: false,\n      addDialogVisible: false,\n      editDialogVisible: false,\n      articleInfo: {},\n      addForm: {\n        title: '',\n        url: '',\n        content: '',\n        id: ''\n      },\n      editForm: {\n        title: '',\n        url: '',\n        content: ''\n      },\n      rules: {\n        title: [{ required: true, message: '必填', trigger: 'blur' }],\n        content: [{ required: true, message: '必填', trigger: 'blur' }],\n        url: [{ required: true, message: '必填', trigger: 'blur' }]\n      }\n    }\n  },\n  components: {\n    quillEditor\n  },\n  async created () {\n    const res = await getAllArticlesAPI()\n    // console.log(res)\n    this.articleList = res.sort((a, b) => parseInt(b.id) - parseInt(a.id))\n  },\n  methods: {\n    async updateArticle (id) {\n      this.$refs.editForm.validate(async (valid) => {\n        if (valid) {\n          // 提交資料\n          await updateArticleAPI(id, this.editForm)\n          // 關閉彈框\n          this.editDialogVisible = false\n          this.$refs.editForm.resetFields()\n          // 重新取得文章資料\n          const res2 = await getAllArticlesAPI()\n          // console.log(res)\n          this.articleList = res2.sort((a, b) => parseInt(b.id) - parseInt(a.id))\n          // 顯示成功提示\n          this.$message.success('編輯成功')\n        } else {\n          this.$message.error('欄位不可為空')\n          return false\n        }\n      })\n    },\n    addNewArticle () {\n      this.$refs.addForm.validate(async (valid) => {\n        if (valid) {\n          const timestamp = new Date().getTime().toString\n          this.addForm.id = timestamp\n          // 提交資料\n          await addNewArticleAPI(this.addForm)\n          // 關閉彈框\n          this.addDialogVisible = false\n          this.$refs.addForm.resetFields()\n          // 重新取得文章資料\n          const res = await getAllArticlesAPI()\n          // console.log(res)\n          this.articleList = res.sort((a, b) => parseInt(b.id) - parseInt(a.id))\n          // 顯示成功提示\n          this.$message.success('新增成功')\n        } else {\n          this.$message.error('欄位不可為空')\n          return false\n        }\n      })\n    },\n    async handleCheck (id) {\n      this.dialogVisible = true\n      const res = await getDetailAPI(id)\n      // console.log(res)\n      this.articleInfo = res\n    },\n    async handleEdit (id) {\n      this.editDialogVisible = true\n      const res = await getDetailAPI(id)\n      // console.log(res)\n      this.editForm = res\n    },\n    handleClose () {\n      this.$confirm('還沒完成編輯，確定要關閉嗎？', {\n        confirmButtonText: '確定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.addDialogVisible = false\n        this.editDialogVisible = false\n      }).catch(() => {\n        return false\n      })\n    },\n    async handleDelete (id) {\n      const confirm = await this.$confirm('刪除後不可回復，確定刪除文章嗎？', {\n        confirmButtonText: '確定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).catch(() => {\n        return false\n      })\n      if (confirm === 'confirm') {\n        await deleteUserAPI(id)\n        this.$message.success('文章已刪除')\n        const res = await getAllArticlesAPI()\n        this.articleList = res\n      }\n    }\n  }\n}\n</script>\n\n<style>\n.article {\n  margin: 10px auto;\n  width: 80%;\n  .header {\n    position: relative;\n    h1 {\n      color: #fff;\n      text-align: center;\n      font-weight: 100;\n      font-size: 20px;\n    }\n    .el-button {\n      position: absolute;\n      top: 50px;\n      left: 0;\n    }\n  }\n  .btns {\n    display: flex;\n    flex-direction: column;\n  }\n  .el-scrollbar {\n    height: 80vh;\n  }\n  .overflow-hidden {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-line-clamp: 5;\n    -webkit-box-orient: vertical;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./article.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./article.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./article.vue?vue&type=template&id=4abc2bf9\"\nimport script from \"./article.vue?vue&type=script&lang=js\"\nexport * from \"./article.vue?vue&type=script&lang=js\"\nimport style0 from \"./article.vue?vue&type=style&index=0&id=4abc2bf9&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","attrs","on","$event","addDialogVisible","staticStyle","articleList","scopedSlots","_u","key","fn","scope","row","url","domProps","_s","content","handleCheck","id","handleEdit","handleDelete","articleInfo","title","dialogVisible","slot","editDialogVisible","ref","editForm","rules","handleClose","model","value","callback","$$v","$set","expression","updateArticle","addForm","addNewArticle","staticRenderFns","name","data","required","message","trigger","components","quillEditor","created","res","getAllArticlesAPI","sort","a","b","parseInt","methods","$refs","validate","valid","$message","error","updateArticleAPI","resetFields","res2","success","timestamp","Date","getTime","toString","addNewArticleAPI","getDetailAPI","$confirm","confirmButtonText","cancelButtonText","type","then","catch","confirm","deleteUserAPI","component"],"sourceRoot":""}