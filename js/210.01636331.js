"use strict";(self["webpackChunkvue_25degrees"]=self["webpackChunkvue_25degrees"]||[]).push([[210],{9210:function(t,e,l){l.r(e),l.d(e,{default:function(){return u}});var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"product"},[e("div",{staticClass:"header"},[e("h1",[t._v("商品管理")]),e("el-button",{attrs:{icon:"el-icon-plus"},on:{click:function(e){t.addDialogVisible=!0}}},[t._v("新增商品")])],1),e("el-scrollbar",[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.productList,border:""}},[e("el-table-column",{attrs:{prop:"id",label:"id",width:"70",align:"center"}}),e("el-table-column",{attrs:{prop:"thumb",label:"縮圖",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{attrs:{src:t.row.url,alt:"",width:"100px",height:"100px"}})]}}])}),e("el-table-column",{attrs:{prop:"category",label:"類別",width:"100",align:"center",formatter:t.formatCategory}}),e("el-table-column",{attrs:{prop:"name",label:"商品名",width:"150",align:"center"}}),e("el-table-column",{attrs:{label:"商品介紹",width:"400"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("div",{staticClass:"overflow-hidden",domProps:{innerHTML:t._s(l.row.content)}})]}}])}),e("el-table-column",{attrs:{prop:"count",label:"庫存",width:"50",align:"center"}}),e("el-table-column",{staticClass:"btns",attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleCheck(l.row.id)}}},[t._v("查看")]),e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleEdit(l.row.id)}}},[t._v("編輯")]),e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleDelete(l.row.id)}}},[t._v("刪除")])]}}])})],1),e("el-dialog",{attrs:{title:t.productInfo.name,visible:t.dialogVisible,width:"70%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-row",[e("el-col",{attrs:{span:8}},[e("div",{staticClass:"image"},[e("img",{attrs:{src:t.productInfo.url,alt:"",width:"300px",height:"auto"}})])]),e("el-col",{attrs:{span:16}},[e("h3",[t._v("商品分類： "+t._s(t.productInfo.category))]),e("h3",[t._v("商品介紹")]),e("div",{domProps:{innerHTML:t._s(t.productInfo.content)}}),e("h3",[t._v("庫存量："+t._s(t.productInfo.count))])]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("確 定")])],1)],1)],1),e("el-dialog",{attrs:{title:"編輯商品",visible:t.editDialogVisible,width:"70%"},on:{"update:visible":function(e){t.editDialogVisible=e}}},[e("el-form",{ref:"editForm",attrs:{"label-position":"right","label-width":"80px",model:t.editForm,rules:t.rules,"before-close":t.handleClose}},[e("el-form-item",{attrs:{label:"商品名稱",prop:"name"}},[e("el-input",{model:{value:t.editForm.name,callback:function(e){t.$set(t.editForm,"name",e)},expression:"editForm.name"}})],1),e("el-form-item",{attrs:{label:"商品介紹",prop:"content"}},[e("quill-editor",{model:{value:t.editForm.content,callback:function(e){t.$set(t.editForm,"content",e)},expression:"editForm.content"}})],1),e("el-form-item",{attrs:{label:"圖片連結",prop:"url"}},[e("el-input",{model:{value:t.editForm.url,callback:function(e){t.$set(t.editForm,"url",e)},expression:"editForm.url"}})],1),e("el-form-item",{attrs:{label:"圖片預覽",prop:"url"}},[e("div",{staticClass:"image"},[e("img",{attrs:{src:t.editForm.url,alt:"",width:"300px",height:"auto"}})])]),e("el-form-item",{attrs:{label:"庫存量",prop:"count"}},[e("el-input",{model:{value:t.editForm.count,callback:function(e){t.$set(t.editForm,"count",e)},expression:"editForm.count"}})],1),e("el-form-item",{attrs:{label:"商品類別",prop:"category"}},[e("el-radio-group",{model:{value:t.editForm.category,callback:function(e){t.$set(t.editForm,"category",e)},expression:"editForm.category"}},[e("el-radio",{attrs:{label:"essential-oil"}},[t._v("精油")]),e("el-radio",{attrs:{label:"incense"}},[t._v("香氛")]),e("el-radio",{attrs:{label:"body-care"}},[t._v("身體保養")]),e("el-radio",{attrs:{label:"face-care"}},[t._v("臉部保養")])],1)],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.editDialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateProduct(t.editForm.id)}}},[t._v("確 定")])],1)],1),e("el-dialog",{attrs:{title:"新增商品",visible:t.addDialogVisible,width:"70%"},on:{"update:visible":function(e){t.addDialogVisible=e}}},[e("el-form",{ref:"addForm",attrs:{"label-position":"right","label-width":"80px",model:t.addForm,rules:t.rules}},[e("el-form-item",{attrs:{label:"商品名稱",prop:"name"}},[e("el-input",{model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1),e("el-form-item",{attrs:{label:"商品介紹",prop:"content"}},[e("quill-editor",{model:{value:t.addForm.content,callback:function(e){t.$set(t.addForm,"content",e)},expression:"addForm.content"}})],1),e("el-form-item",{attrs:{label:"圖片連結",prop:"url"}},[e("el-input",{model:{value:t.addForm.url,callback:function(e){t.$set(t.addForm,"url",e)},expression:"addForm.url"}})],1),e("el-form-item",{attrs:{label:"商品類別",prop:"category"}},[e("el-radio-group",{model:{value:t.addForm.category,callback:function(e){t.$set(t.addForm,"category",e)},expression:"addForm.category"}},[e("el-radio",{attrs:{label:"essential-oil"}},[t._v("精油")]),e("el-radio",{attrs:{label:"incense"}},[t._v("香氛")]),e("el-radio",{attrs:{label:"body-care"}},[t._v("身體保養")]),e("el-radio",{attrs:{label:"face-care"}},[t._v("臉部保養")])],1)],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.addDialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.addNewProduct}},[t._v("確 定")])],1)],1)],1)],1)},a=[],i=l(4543),r=l(6547),s={name:"productAdmin",data(){return{productList:[],dialogVisible:!1,addDialogVisible:!1,editDialogVisible:!1,productInfo:{},addForm:{name:"",content:"",category:"",url:""},editForm:{name:"",content:"",category:"",url:""},rules:{name:[{required:!0,message:"必填",trigger:"blur"}],content:[{required:!0,message:"必填",trigger:"blur"}],url:[{required:!0,message:"必填",trigger:"blur"}],category:[{required:!0,message:"必填",trigger:"blur"}]}}},components:{quillEditor:r.quillEditor},async created(){const t=await(0,i.tg)();this.productList=t},methods:{async updateProduct(t){this.$refs.editForm.validate((async e=>{if(!e)return this.$message.error("欄位不可為空"),!1;{await(0,i.ZD)(t,this.editForm),this.editDialogVisible=!1,this.$refs.editForm.resetFields();const e=await(0,i.tg)();this.productList=e,this.$message.success("編輯成功")}}))},formatCategory(t){const e={"essential-oil":"精油",incense:"香氛","face-care":"臉部保養","body-care":"身體保養"};return e[t.category]},addNewProduct(){this.$refs.addForm.validate((async t=>{if(!t)return this.$message.error("欄位不可為空"),!1;{await(0,i.Gk)(this.addForm),this.addDialogVisible=!1,this.$refs.addForm.resetFields();const t=await(0,i.tg)();this.productList=t,this.$message.success("新增成功")}}))},async handleCheck(t){this.dialogVisible=!0;const e=await(0,i.X3)(t);this.productInfo=e},async handleEdit(t){this.editDialogVisible=!0;const e=await(0,i.X3)(t);this.editForm=e},handleClose(){},async handleDelete(t){const e=await this.$confirm("刪除後不可回復，確定刪除商品嗎？",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).catch((()=>!1));if("confirm"===e){await(0,i.lo)(t),this.$message.success("商品已刪除");const e=await(0,i.tg)();this.productList=e}}}},n=s,d=l(1001),c=(0,d.Z)(n,o,a,!1,null,null,null),u=c.exports}}]);
//# sourceMappingURL=210.01636331.js.map